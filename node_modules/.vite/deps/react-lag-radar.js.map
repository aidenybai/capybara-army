{
  "version": 3,
  "sources": ["../../.pnpm/react-lag-radar@1.0.0_react@18.3.1/node_modules/react-lag-radar/Radar.js", "../../.pnpm/@gaearon+lag-radar@0.1.0/node_modules/@gaearon/lag-radar/lag-radar.js"],
  "sourcesContent": ["import {useLayoutEffect, useRef, createElement, memo} from 'react'\nimport lagRadar from \"@gaearon/lag-radar\";\n\nexport default memo(function Radar(props) {\n  // Tweak the defaults\n  let frames = props.frames || 20;\n  let size = props.size || 100;\n  let options = Object.assign({}, props, {\n    frames,\n    size,\n  });\n  let ref = useRef();\n  useLayoutEffect(() => {\n    let destroy = lagRadar(Object.assign({}, options, {\n      parent: ref.current,      \n    }));\n    return destroy;\n  }, [options, ref]);\n  return createElement('div', {ref});\n});", "/**\n * lagRadar\n * Licence: ISC copyright: @mobz 2018\n */\n\nexport default function lagRadar( config = {} ) {\n  const {\n    frames = 50,    // number of frames to draw, more = worse performance\n    speed = 0.0017, // how fast the sweep moves (rads per ms)\n    size = 300,     // outer frame px\n    inset = 3,      // circle inset px\n    parent = document.body, // DOM node to attach to\n  } = config;\n\n  const svgns = 'http:\\/\\/www.w3.org/2000/svg';\n\n  const styles = document.createTextNode(`\n    .lagRadar-sweep > * {\n      shape-rendering: crispEdges;\n    }\n    .lagRadar-face {\n      fill: transparent;\n    }\n    .lagRadar-hand {\n      stroke-width: 4px;\n      stroke-linecap: round;\n    }\n  `);\n\n  function $svg(tag, props = {}, children = []) {\n    const el = document.createElementNS(svgns, tag);\n    Object.keys(props).forEach( prop => el.setAttribute( prop, props[prop] ) );\n    children.forEach( child => el.appendChild( child ) );\n    return el;\n  }\n\n  const PI2 = Math.PI * 2;\n  const middle = size / 2;\n  const radius = middle - inset;\n\n  const $hand = $svg('path', { class: 'lagRadar-hand' });\n  const $arcs = (new Array(frames)).fill('path').map(t => $svg(t));\n  const $root = $svg('svg', { class: 'lagRadar', height: size, width: size }, [\n    $svg('style', { type: 'text/css' }, [ styles ]),\n    $svg('g', { class: 'lagRadar-sweep' }, $arcs),\n    $hand,\n    $svg('circle', { class: 'lagRadar-face', cx: middle, cy: middle, r: radius })\n  ]);\n\n  parent.appendChild($root);\n\n  let frame;\n  let framePtr = 0;\n  let last = {\n    rotation: 0,\n    now: Date.now(),\n    tx: middle + radius,\n    ty: middle,\n  };\n\n  const calcHue = (() => {\n    const max_hue = 120;\n    const max_ms = 1000;\n    const log_f = 10;\n    const mult = max_hue / Math.log(max_ms / log_f);\n    return function(ms_delta) {\n      return max_hue - Math.max(0, Math.min(mult * Math.log(ms_delta / log_f), max_hue ) );\n    };\n  })();\n\n  function animate() {\n    const now = Date.now();\n    const rdelta = Math.min(PI2 - speed, speed * (now - last.now));\n    const rotation = (last.rotation + rdelta) % PI2;\n    const tx = middle + radius * Math.cos(rotation);\n    const ty = middle + radius * Math.sin(rotation);\n    const bigArc = rdelta < Math.PI ? '0' : '1';\n    const path = `M${tx} ${ty}A${radius} ${radius} 0 ${bigArc} 0 ${last.tx} ${last.ty}L${middle} ${middle}`;\n    const hue = calcHue(rdelta/speed);\n\n    $arcs[framePtr % frames].setAttribute('d', path);\n    $arcs[framePtr % frames].setAttribute('fill', `hsl(${hue}, 80%, 40%)`);\n    $hand.setAttribute('d', `M${middle} ${middle}L${tx} ${ty}`);\n    $hand.setAttribute('stroke', `hsl(${hue}, 80%, 60%)`);\n\n    for (let i = 0; i < frames; i++) {\n      $arcs[(frames + framePtr - i) % frames].style.fillOpacity = 1 - (i/frames);\n    }\n\n    framePtr++;\n    last = { now, rotation, tx, ty };\n\n    frame = window.requestAnimationFrame(animate);\n  }\n\n  animate();\n\n  return function destroy() {\n    if(frame) {\n      window.cancelAnimationFrame(frame);\n    }\n    $root.remove();\n  }\n\n};\n"],
  "mappings": "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",
  "names": []
}
